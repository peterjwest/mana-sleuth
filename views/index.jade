form.search.well.form-inline(method='get')
  .inputs
    .query-input-wrapper
      input.query(name="query", type='text', placeholder='Type anything', value=request.query.query)
    input.submit.btn.btn-primary(type='submit', value='Search').xhr
  .extras.well
    select.format(data-placeholder="Choose a format")
      option
      each format in formats
        option(name=format.name)= format.name

if cards && cards.length
  include _pagination

  //.results-info: p.alert.alert-info
    = "Found: "+pager.totalItems+" cards"

  section.cards.row
    each card in cards
      article.card.span6
        img(src=app.gatherer.router.image(card.gathererId())).image
        .text
          h3.name: a(href=app.gatherer.router.card(card.gathererId()))= card.name
          h4
            span.types= card.names('types')
            if card.subtypes.length > 0
              span.subtypes= " - "+card.names('subtypes')
            if card.has('types', 'Creature')
              span.strength= " ("+card.power+"/"+card.toughness+")"
            if card.has('types', 'Planeswalker')
              span.strength= " ("+card.loyalty+")"
          each rule in card.rules
            p.rule= rule

  include _pagination
